![logo](Git-Logo-1788C.png)
# Работа с Git

## 1. Проверка наличия установленного Git.
В терминале выполнить команду `git --version` Если Git установлен, появится сообщение с информацией версии программы. Иначе будет сообщение об ошибке.

## 2. Установка Git.
Загружаем последнюю версию Git c сайта https://git-scm.com/downloads.
Устанавливаем с настройками по умолчанию.
Далее для удобства работы с git устанавливаем Visual Studio Code.

## 3. Настройка Git.
При первом использовании Git необходимо представиться. Для этого нужно в терминале ввести две команды:
```
git config --global user.name «Ваше имя английскими буквами»
git config --global user.email ваша почта@example.com
```
## 4. Инициализация репозитория.

Сначала нам нужно выбрать в проводнике папку с которой мы будем работать (файл -> открыть папку -> выбираем необходимую папку. Желательно чтобы в этой папке был только необходимый для работы докумет). Далее для создания нового репозитория используется команда `git init`, эта команда выполняется только один раз для первоначальной настройки нового репозитория. В папке появится скрытая директория .git, где будет храниться история репозитория и настройки.

## 5. Определение состояния.

`git status` - команда, которая показывает информацию о текущем состоянии репозитория (в любой непонятной ситуации позволяет проверить, что происходит). Если всё закоммичено, то команда *git status* ничего не выдаст.

## 6. Подготовка файлов.

`git add “__”` - пишем название что сохранять, для быстрого заполнения можно использовать **“tab”**, данная команда делает слепок нужного нам состояния для дальнейшего сохранения. Если мы ошибочно нажали ***git add*** (т.е. подготовили документ к фиксации), можно воспользоваться командой ***git rm --cached <file>*** (убрать из отслеживания). Также есть команда ***git add.*** (с точкой) она сохраняет все изменения во всех файлах.

## 7. Фиксация изменений, сохранение версий.
Перед тем, как сохранить в репозиторий обязательно не забываем сохранить файл ***ctrl + s***, также в настройках можно поставить галочку авто-сохранение.

`git diff` показывает, что нового у нас изменено после последней фиксации. (красным то, что было удалено, зелёным то, что добавлено.)

Сохраняем изменения `git commit -m “...”`. (важно не путать commit, это не комментарий, это фиксация. Этой командой мы фиксируем изменения в репозитории, а комментарием мы добавляем, что мы изменили в этом репозитории).

Что такое ***git commit -a -m “..”***, что значит это отличие -a, эта команда совмещает в себе две комaнды ***git add. + git commit -m***. При наборе команды git commit -m (флаг -m добавляем обязательно), не добавив флаг, мы попадём во встроенный редактор, а с ним нужно уметь работать, чтобы потом из него выйти. 
***git commit -a -m*** это тоже самое, что и ***git commit -am “…”***

`git commit —amend -m “…”` Исправление последнего комментария репозитория” (эта команда не меняет его, а создаёт новый”

Важно! Если вдруг случайно ввели команду ***git commit*** без флага и попали во **встроенный редактор**, нажимаем I (большая i), снизу должно появиться слово “вставка” (работаем на англ. раскладке). потом пишем комментарий к коммиту. Далее нажимаем ESC. Слово “вставка” должно пропасть. и снизу в командной черной строке вводим **:wq** (выход). Далее мы должны оказаться в основном экране терминала.

## 8. Просмотр списка сохранённых версий.

`git log` выводит разные сохранённые коммиты, в скобках в какой ветке сделаны изменения)

***git log —oneline*** сокращённый просмотр изменений.

Для того, чтобы просмотреть весь список можно листать стрелкой.

***git log —oneline -2*** показывает два последних коммита

***git log —oneline -p*** покажет коммиты с разницей между ними, (т.е будто добавляя git diff, можно также совмещать ***git log —oneline -p -2***

После команды **git log** чтобы вызвать командную строку нажимаем q в английской раскладке.

## 9. Перемещение.

`git checkout` эта команда позволяет передвигаться по нашим файлам, например:

при вызове предыдущих версий мы можем после ***git checkout*** ввести hash code версии и перейти туда (достаточно ввести четыре первые символа и воспользоваться tab, он дополнит автоматически.

***git checkout master*** - возврат на текущую версию. При возврате к одной из предыдущих версий файл в проводнике будет тоже возвращён в ту же версию и может быть скопирован правой кнопкой мыши.

Также эту команду можно использовать для перехода между ветками дополняя команду именем необходимой ветки.

## 9. Игнорирвание файлов
Для того, чтобы исключить из отслеживания в репозитории определёееые файлы или папки необходимо создать там файл ***.gitignore*** и записать в него их названия или шаблоны, соответствующие таким файлам или папкам, например .png или .jpg
Далее выполним команду git add для подготовки к фиксации и git commit -m (создаём коммит). Тут нужно иметь ввиду, что комбинированная номанда git commit -am в данном случае не сработает, т.к. её нельзя применить для добавления новых файлов в отслеживание, а к изменениям можно. (Если .gitignore создаётся из дополнительной ветки, при слиянии файл переместится с master)

## 10. Создание веток в git.
По умолчанию имя основной ветки в git - **master**. 
Создать ветку можно командой:
```
git branch <имя новой ветки>
```
Список веток в репозитории можно посмотреть с помощью команды `git branch`

## 11. Слияние веток.
Для слияния веток используется команда

```
git merge <название новой ветки>
```
(merge, от слова слияние). Эту команду нужно задавать из той ветки, куда мы хотим “слить” информацию. После слияния необходимо сохранить изменения командами *git add* и *git commit*

Если в данном случае задать команду ***git log***, мы увидим изменение обеих веток.

Если ветка, которую мы слили с основной нам больше не нужна, её можно просто удалить с помощью команды ***git branch -d <имя новой ветки>***, если улалить неслитую ветку, git предложит слить ветку или воспользоваться командой принудительного удаления **git branch -D <имя новой ветки>** 

Важно! Удалить ветку, находясь в ней, мы не можем, нужно перейти на другую ветку.

## 12. Конфликты слияния и их разрешение.
Конфликт слияния может произойти, если текст в разных ветках находится в одной и той же строке, когда какой-то файл в одной ветке удалён и отредактирован в другой.  В таком случае git не может самостоятельно его решить, предлагает выбор из нескольких вариантов, например:
1. current change - текущее изменение
2. incoming change - входящее изменение (то, что пришло из другой ветки)
3. both changes - оставить оба варианта
4. compare changes - сравнить два варианта (появится два окна для сравнения, различия будут подсвечиваться.
    
При выборе обоих вариантов, можно отредактировать текст вручную. Далее необходимо сделать коммит, сохранить изменения.
    
Просмотреть коммиты всех веток можно при помощи команды ***git log —graph.***. Эта команда позволяет посмотреть историю изменений во всех ветках с визуализацией.

## 13. Работа с готовым репозиторием из сервиса GitHub.

Переходим на сайт GitHub.com
Далее через поиск мы можем находить проекты разных авторов. Выбираем нужный нам репозиторий, предварительно мы можем его просмотреть.

Далее есть зеленая кнопка *"code"*, нажимая на неё, мы увидим строку с адресом, который мы можем скопировать. В VScode создаём пустую папку. Даём в терминале VScode команду гиту:
```
git clone <https:// ……>,
```
 указывая адрес, который мы скопировали (копирует тот репозиторий, который находится на сервисе GitHub в наш локальный репозиторий. У нас на компьютере появится полная копия того репозитория, внутри нашей папки с названием, как на GitHub. Для того, чтобы поместиться внутрь папки, где находится репозиторий, используем команду:
```
cd <название скопированной папки>.
```
Можем посмотреть все коммиты, ветки, перемещаться по ним.

## 14. Как сделать, чтобы наш репозиторий оказался в интернете.

Открываем необходимую папку с репозиторием. Первое, что нам нужно сделать на одном из сервисов, куда мы хотим загрузить информацию, создать свой аккаунт.  ⇒нажимаем "создать новый репозиторий" ⇒даем ему имя⇒создать репозиторий. GitHub предлагает варианты работы с репозиторием:

1. Мы можем создать новый репозиторий через терминал сайта
2. Уже существующий репозиторий привязать к удалённому репозиторию.
3. Либо импортировать код из другого репозитория.

После каждого из вариантов GitHub указывает необходимый список команд.

Для того, чтобы "привязать" свой локальный репозиторий у удалённому, копируем команды в наш терминал в VScode.

`git remote add origin https.....` - связываем репозитории.

`git branch -M main` -вносим имя основной ветки.

`git push -u origin main` -отправляем наш локальный репозиторий в интернет.

При первой попытке команды `git push` сайт запросит авторизоваться. GitHub “подскажет”, как это сделать. Далее, после  команды `git push` наша локальная версия отобразится в GitHub. 

Также мы можем делать изменения в файле, делать коммиты из сервиса GitHub или из другого компьютера. Для того, чтобы “подтянуть” изменения на свой локальный репозиторий используем команду `git pull` (эта команда не только подгрузит изменения, но и попытается их “слить” и могут возникнуть конфликты слияния, как при слиянии веток, конфликты разрешаются также.) Также можно просмотреть историю изменения версий.

## 15. Pull request.
Для работы с чужим репозиторием, чтобы предложить свои какие-то изменения, поучаствовать в работе, сначала нужно сделать копию этого репозитория на свой аккаунт, это делается с помощью кнопки **"fork"**. У нас появится точно такой же репозиторий только на своём аккаунте. Делая fork, мы получаем некое ответвление от исходного репозитория. И уже с нашего аккаунта мы можем клонировать репозиторий в свои локальные папки. Открываем папку, переходим внутрь папки *`cd <имя папки>*. Для дальнейшей работы с чужим проектом всегда нужно создать отдельную ветку. Теперь можно работать с файлами и в дальнейшем предложить свои изменения. После отправки изменений на GitHub у нас появится кнопка 
```
compare & pull request.
```
 GitHub проверяет на конфликты и предлагает описание. После этого в аккаунте, чей репозиторий мы "форкнули", появится окно с нашим предложением.

